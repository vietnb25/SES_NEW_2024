<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="vn.ses.s3m.plus.batch.mapper.DataSchemaMapper">

	<insert id="insertNewTables" parameterType="map">
       	--
        -- Table structure for table `s3m_data_combiner_1`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_combiner_1_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_combiner_1_${year} (
          `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
          `device_id` bigint(20) DEFAULT NULL,
          `DCAMax` int(16) unsigned DEFAULT NULL,
          `N` int(16) unsigned DEFAULT NULL,
          `Evt` int(32) unsigned DEFAULT NULL,
          `LOW_VOLTAGE` int(32) unsigned DEFAULT NULL,
          `LOW_POWER` int(32) unsigned DEFAULT NULL,
          `LOW_EFFICIENCY` int(32) unsigned DEFAULT NULL,
          `CURRENT` int(32) unsigned DEFAULT NULL,
          `VOLTAGE` int(32) unsigned DEFAULT NULL,
          `POWER` int(32) unsigned DEFAULT NULL,
          `DISCONNECTED` int(32) unsigned DEFAULT NULL,
          `FUSE_FAULT` int(32) unsigned DEFAULT NULL,
          `COMBINER_FUSE_FAULT` int(32) unsigned DEFAULT NULL,
          `COMBINER_CABINET_OPEN` int(32) unsigned DEFAULT NULL,
          `TEMP` int(32) unsigned DEFAULT NULL,
          `GROUNDFAULT` int(32) unsigned DEFAULT NULL,
          `REVERSED_POLARITY` int(32) unsigned DEFAULT NULL,
          `INCOMPATIBLE` int(32) unsigned DEFAULT NULL,
          `COMM_ERROR` int(32) unsigned DEFAULT NULL,
          `INTERNAL_ERROR` int(32) unsigned DEFAULT NULL,
          `THEFT` int(32) unsigned DEFAULT NULL,
          `ARC_DETECTED` int(32) unsigned DEFAULT NULL,
          `IdcCombiner` float DEFAULT NULL,
          `DCAh` float DEFAULT NULL,
          `VdcCombiner` float DEFAULT NULL,
          `T` float DEFAULT NULL,
          `PdcCombiner` float DEFAULT NULL,
          `PR` float DEFAULT NULL,
          `EpCombiner` float DEFAULT NULL,
          `sent_date` timestamp NULL DEFAULT current_timestamp(),
          `transaction_date` bigint(20) DEFAULT NULL,
          PRIMARY KEY (`id`),
          KEY `sent_date` (`sent_date`),
          KEY `transaction_date` (`transaction_date`),
          KEY `device_id` (`device_id`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        /*!40101 SET character_set_client = @saved_cs_client */;

        --
        -- Table structure for table `s3m_data_inverter_1`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_inverter_1_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_inverter_1_${year} (
          `id` bigint(20) NOT NULL AUTO_INCREMENT,
          `device_id` bigint(20) DEFAULT NULL,
          `I` float DEFAULT NULL,
          `Ia` float DEFAULT NULL,
          `Ib` float DEFAULT NULL,
          `Ic` float DEFAULT NULL,
          `Vab` float DEFAULT NULL,
          `Vbc` float DEFAULT NULL,
          `Vca` float DEFAULT NULL,
          `Va` float DEFAULT NULL,
          `Vb` float DEFAULT NULL,
          `Vc` int(11) DEFAULT NULL,
          `F` float DEFAULT NULL,
          `PF` float DEFAULT NULL,
          `Idc` float DEFAULT NULL,
          `Udc` float DEFAULT NULL,
          `Pdc` float DEFAULT NULL,
          `TmpCab` int(11) DEFAULT NULL,
          `TmpSnk` int(11) DEFAULT NULL,
          `TmpTrns` int(11) DEFAULT NULL,
          `TmpOt` int(11) DEFAULT NULL,
          `St` int(11) DEFAULT NULL,
          `StVnd` int(11) DEFAULT NULL,
          `Evt1` int(11) DEFAULT NULL,
          `Evt2` int(11) DEFAULT NULL,
          `EvtVnd1` int(11) DEFAULT NULL,
          `EvtVnd2` int(11) DEFAULT NULL,
          `EvtVnd3` int(11) DEFAULT NULL,
          `EvtVnd4` int(11) DEFAULT NULL,
          `TmSrc` int(11) DEFAULT NULL,
          `Tms` int(11) DEFAULT NULL,
          `PVConn` int(16) unsigned DEFAULT NULL,
          `ECPConn` int(16) unsigned DEFAULT NULL,
          `Conn` int(16) unsigned DEFAULT NULL,
          `Wmax` int(32) DEFAULT NULL,
          `Vref` float DEFAULT NULL,
          `VRefofs` float DEFAULT NULL,
          `VAMax` int(32) DEFAULT NULL,
          `VAMaxQ1` int(32) DEFAULT NULL,
          `VAMaxQ2` int(32) DEFAULT NULL,
          `VAMaxQ3` int(32) DEFAULT NULL,
          `VAMaxQ4` int(32) DEFAULT NULL,
          `F_normal` float DEFAULT NULL,
          `WMaxLimPct` float DEFAULT NULL,
          `WMaxLimPct_WinTms` int(32) DEFAULT NULL,
          `WMaxLimPct_RvrtTms` int(32) DEFAULT NULL,
          `WMaxLimPct_RmpTms` int(32) DEFAULT NULL,
          `WMaxLim_Ena` int(32) DEFAULT NULL,
          `OutPFSet` float DEFAULT NULL,
          `OutPFSet_WinTms` int(16) unsigned DEFAULT NULL,
          `OutPFSet_RvrtTms` int(16) unsigned DEFAULT NULL,
          `OutPFSet_RmpTms` int(16) unsigned DEFAULT NULL,
          `OutPFSet_Ena` int(16) unsigned DEFAULT NULL,
          `VArWMaxPct` float DEFAULT NULL,
          `VArMaxPct` float DEFAULT NULL,
          `VArAvalPct` float DEFAULT NULL,
          `VArPct_WinTms` int(16) unsigned DEFAULT NULL,
          `VArPct_RvrtTms` int(16) unsigned DEFAULT NULL,
          `VArPct_RmpTms` int(16) unsigned DEFAULT NULL,
          `VArPct_Mod` int(16) unsigned DEFAULT NULL,
          `VArPct_Ena` int(16) unsigned DEFAULT NULL,
          `sent_date` timestamp NULL DEFAULT current_timestamp(),
          `transaction_date` bigint(20) DEFAULT NULL,
          `Ptotal` float DEFAULT NULL,
          `Pa` float DEFAULT NULL,
          `Pb` float DEFAULT NULL,
          `Pc` float DEFAULT NULL,
          `Stotal` float DEFAULT NULL,
          `Sa` float DEFAULT NULL,
          `Sb` float DEFAULT NULL,
          `Sc` float DEFAULT NULL,
          `Qtotal` float DEFAULT NULL,
          `Qa` float DEFAULT NULL,
          `Qb` float DEFAULT NULL,
          `Qc` float DEFAULT NULL,
          `PFa` float DEFAULT NULL,
          `PFb` float DEFAULT NULL,
          `PFc` float DEFAULT NULL,
          `Ep` int(64) unsigned DEFAULT NULL,
          `EpDC` int(32) unsigned DEFAULT NULL,
          `CRC16` varchar(45) DEFAULT NULL,
          PRIMARY KEY (`id`),
          KEY `id` (`id`),
          KEY `sent_date` (`sent_date`),
          KEY `transaction_date` (`transaction_date`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        --
        -- Table structure for table `s3m_data_meter_1_${year}`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_meter_1_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_meter_1_${year} (
          `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ID bản tin',
          `device_id` bigint(20) unsigned NOT NULL COMMENT 'ID thiết bị',
          `uab` float DEFAULT NULL COMMENT 'Điện áp dây A-B',
          `ubc` float DEFAULT NULL COMMENT 'Điện áp dây B-C',
          `uca` float DEFAULT NULL COMMENT 'Điện áp dây C-A',
          `ull` float DEFAULT NULL COMMENT 'Điện áp dây trung bình',
          `uan` float DEFAULT NULL COMMENT 'Điện áp pha A',
          `ubn` float DEFAULT NULL COMMENT 'Điện áp pha B',
          `ucn` float DEFAULT NULL COMMENT 'Điện áp pha C',
          `uln` float DEFAULT NULL COMMENT 'Điện áp pha trung bình',
          `ia` float DEFAULT NULL COMMENT 'Dòng điện pha A',
          `ib` float DEFAULT NULL COMMENT 'Dòng điện pha B',
          `ic` float DEFAULT NULL COMMENT 'Dòng điện pha C',
          `in` float DEFAULT NULL COMMENT 'Dòng trung tính',
          `ig` float DEFAULT NULL COMMENT 'Dòng rò',
          `iavg` float DEFAULT NULL COMMENT 'Dòng điện pha trung binh',
          `pa` float DEFAULT NULL COMMENT 'Công suât hiệu dụng A',
          `pb` float DEFAULT NULL COMMENT 'Công suât hiệu dụng B',
          `pc` float DEFAULT NULL COMMENT 'Công suât hiệu dụng C',
          `p_total` float DEFAULT NULL COMMENT 'Tổng công suất hiệu dụng',
          `qa` float DEFAULT NULL COMMENT 'Công suât phản kháng A',
          `qb` float DEFAULT NULL COMMENT 'Công suât phản kháng B',
          `qc` float DEFAULT NULL COMMENT 'Công suât phản kháng C',
          `q_total` float DEFAULT NULL COMMENT 'Tổng công suất phản kháng',
          `sa` float DEFAULT NULL COMMENT 'Công suât biểu kiến A',
          `sb` float DEFAULT NULL COMMENT 'Công suât biểu kiến B',
          `sc` float DEFAULT NULL COMMENT 'Công suât biểu kiến C',
          `s_total` float DEFAULT NULL COMMENT 'Tổng công suất biểu kiến',
          `pfa` float DEFAULT NULL COMMENT 'Hệ số công suất A',
          `pfb` float DEFAULT NULL COMMENT 'Hệ số công suất B',
          `pfc` float DEFAULT NULL COMMENT 'Hệ số công suất C',
          `pfavg` float DEFAULT NULL COMMENT 'Hệ số công suất trung bình',
          `f` float DEFAULT NULL COMMENT 'Tần số',
          `ep` int(10) DEFAULT NULL COMMENT 'Active Energy Delivered (Into Load) Công suất tiêu thụ',
          `ep_r` int(10) DEFAULT NULL COMMENT 'Active Energy Received (Out of Load)',
          `ep_dr` int(10) DEFAULT NULL COMMENT 'Active Energy Delivered + Received',
          `ep_drr` int(10) DEFAULT NULL COMMENT 'Active Energy Delivered- Received',
          `eq` int(10) DEFAULT NULL COMMENT 'Reactive Energy Delivered',
          `eq_r` int(10) DEFAULT NULL COMMENT 'Reactive Energy Received',
          `eq_dr` int(10) DEFAULT NULL COMMENT 'Reactive Energy Delivered + Received',
          `eq_drr` int(10) DEFAULT NULL COMMENT 'Reactive Energy Delivered - Received',
          `es` int(10) DEFAULT NULL COMMENT 'Apparent Energy Delivered',
          `es_r` int(10) DEFAULT NULL COMMENT 'Apparent Energy Received',
          `es_dr` int(10) DEFAULT NULL COMMENT 'Apparent Energy Delivered + Received',
          `es_drr` int(10) DEFAULT NULL COMMENT 'Apparent Energy Delivered - Received',
          `t1` float DEFAULT NULL COMMENT 'Nhiệt độ điểm pha A',
          `t2` float DEFAULT NULL COMMENT 'Nhiệt độ điểm pha B',
          `t3` float DEFAULT NULL COMMENT 'Nhiệt độ điểm pha C',
          `command_data1` mediumint(9) DEFAULT NULL COMMENT 'Command data 1',
          `command_data2` mediumint(9) DEFAULT NULL COMMENT 'Command data 2',
          `command_data3` mediumint(9) DEFAULT NULL COMMENT 'Command data 3',
          `command_data4` mediumint(9) DEFAULT NULL COMMENT 'Command data 4',
          `command_data5` mediumint(9) DEFAULT NULL COMMENT 'Command data 5',
          `command_data6` mediumint(9) DEFAULT NULL COMMENT 'Command data 6',
          `thd_ia` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài IA',
          `thd_ib` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài IB',
          `thd_ic` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài IC',
          `thd_in` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài IN',
          `thd_ig` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài IG',
          `thd_vab` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VA-B',
          `thd_vbc` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VB-C',
          `thd_vca` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VC-A',
          `thd_vll` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VL-L',
          `thd_van` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VA-N',
          `thd_vbn` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VB-N',
          `thd_vcn` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VC-N',
          `thd_vln` float unsigned DEFAULT NULL COMMENT 'Tổng sóng hài VL-N',
          `sent_date` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'Thời gian gửi tin',
          `transaction_date` bigint(20) NOT NULL DEFAULT (current_timestamp()) COMMENT 'Thời gian gửi tin dùng để phân loại partiion',
          PRIMARY KEY (`id`,`transaction_date`),
          KEY `idx_search` (`device_id`,`transaction_date`),
          KEY `device_id_index` (`device_id`),
          KEY `sent_date_index` (`sent_date`),
          KEY `transaction_date` (`transaction_date`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        /*!40101 SET character_set_client = @saved_cs_client */;

        --
        -- Table structure for table `s3m_data_meter_2_${year}`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_meter_2_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_meter_2_${year} (
          `id` bigint(20) NOT NULL AUTO_INCREMENT,
          `IA_H1` float DEFAULT NULL,
          `IA_H2` float DEFAULT NULL,
          `IA_H3` float DEFAULT NULL,
          `IA_H4` float DEFAULT NULL,
          `IA_H5` float DEFAULT NULL,
          `IA_H6` float DEFAULT NULL,
          `IA_H7` float DEFAULT NULL,
          `IA_H8` float DEFAULT NULL,
          `IA_H9` float DEFAULT NULL,
          `IA_H10` float DEFAULT NULL,
          `IA_H11` float DEFAULT NULL,
          `IA_H12` float DEFAULT NULL,
          `IA_H13` float DEFAULT NULL,
          `IA_H14` float DEFAULT NULL,
          `IA_H15` float DEFAULT NULL,
          `IA_H16` float DEFAULT NULL,
          `IA_H17` float DEFAULT NULL,
          `IA_H18` float DEFAULT NULL,
          `IA_H19` float DEFAULT NULL,
          `IA_H20` float DEFAULT NULL,
          `IA_H21` float DEFAULT NULL,
          `IA_H22` float DEFAULT NULL,
          `IA_H23` float DEFAULT NULL,
          `IA_H24` float DEFAULT NULL,
          `IA_H25` float DEFAULT NULL,
          `IA_H26` float DEFAULT NULL,
          `IA_H27` float DEFAULT NULL,
          `IA_H28` float DEFAULT NULL,
          `IA_H29` float DEFAULT NULL,
          `IA_H30` float DEFAULT NULL,
          `IA_H31` float DEFAULT NULL,
          `IB_H1` float DEFAULT NULL,
          `IB_H2` float DEFAULT NULL,
          `IB_H3` float DEFAULT NULL,
          `IB_H4` float DEFAULT NULL,
          `IB_H5` float DEFAULT NULL,
          `IB_H6` float DEFAULT NULL,
          `IB_H7` float DEFAULT NULL,
          `IB_H8` float DEFAULT NULL,
          `IB_H9` float DEFAULT NULL,
          `IB_H10` float DEFAULT NULL,
          `IB_H11` float DEFAULT NULL,
          `IB_H12` float DEFAULT NULL,
          `IB_H13` float DEFAULT NULL,
          `IB_H14` float DEFAULT NULL,
          `IB_H15` float DEFAULT NULL,
          `IB_H16` float DEFAULT NULL,
          `IB_H17` float DEFAULT NULL,
          `IB_H18` float DEFAULT NULL,
          `IB_H19` float DEFAULT NULL,
          `IB_H20` float DEFAULT NULL,
          `IB_H21` float DEFAULT NULL,
          `IB_H22` float DEFAULT NULL,
          `IB_H23` float DEFAULT NULL,
          `IB_H24` float DEFAULT NULL,
          `IB_H25` float DEFAULT NULL,
          `IB_H26` float DEFAULT NULL,
          `IB_H27` float DEFAULT NULL,
          `IB_H28` float DEFAULT NULL,
          `IB_H29` float DEFAULT NULL,
          `IB_H30` float DEFAULT NULL,
          `IB_H31` float DEFAULT NULL,
          `IC_H1` float DEFAULT NULL,
          `IC_H2` float DEFAULT NULL,
          `IC_H3` float DEFAULT NULL,
          `IC_H4` float DEFAULT NULL,
          `IC_H5` float DEFAULT NULL,
          `IC_H6` float DEFAULT NULL,
          `IC_H7` float DEFAULT NULL,
          `IC_H8` float DEFAULT NULL,
          `IC_H9` float DEFAULT NULL,
          `IC_H10` float DEFAULT NULL,
          `IC_H11` float DEFAULT NULL,
          `IC_H12` float DEFAULT NULL,
          `IC_H13` float DEFAULT NULL,
          `IC_H14` float DEFAULT NULL,
          `IC_H15` float DEFAULT NULL,
          `IC_H16` float DEFAULT NULL,
          `IC_H17` float DEFAULT NULL,
          `IC_H18` float DEFAULT NULL,
          `IC_H19` float DEFAULT NULL,
          `IC_H20` float DEFAULT NULL,
          `IC_H21` float DEFAULT NULL,
          `IC_H22` float DEFAULT NULL,
          `IC_H23` float DEFAULT NULL,
          `IC_H24` float DEFAULT NULL,
          `IC_H25` float DEFAULT NULL,
          `IC_H26` float DEFAULT NULL,
          `IC_H27` float DEFAULT NULL,
          `IC_H28` float DEFAULT NULL,
          `IC_H29` float DEFAULT NULL,
          `IC_H30` float DEFAULT NULL,
          `IC_H31` float DEFAULT NULL,
          `VAB_H1` float DEFAULT NULL,
          `VAB_H2` float DEFAULT NULL,
          `VAB_H3` float DEFAULT NULL,
          `VAB_H4` float DEFAULT NULL,
          `VAB_H5` float DEFAULT NULL,
          `VAB_H6` float DEFAULT NULL,
          `VAB_H7` float DEFAULT NULL,
          `VAB_H8` float DEFAULT NULL,
          `VAB_H9` float DEFAULT NULL,
          `VAB_H10` float DEFAULT NULL,
          `VAB_H11` float DEFAULT NULL,
          `VAB_H12` float DEFAULT NULL,
          `VAB_H13` float DEFAULT NULL,
          `VAB_H14` float DEFAULT NULL,
          `VAB_H15` float DEFAULT NULL,
          `VAB_H16` float DEFAULT NULL,
          `VAB_H17` float DEFAULT NULL,
          `VAB_H18` float DEFAULT NULL,
          `VAB_H19` float DEFAULT NULL,
          `VAB_H20` float DEFAULT NULL,
          `VAB_H21` float DEFAULT NULL,
          `VAB_H22` float DEFAULT NULL,
          `VAB_H23` float DEFAULT NULL,
          `VAB_H24` float DEFAULT NULL,
          `VAB_H25` float DEFAULT NULL,
          `VAB_H26` float DEFAULT NULL,
          `VAB_H27` float DEFAULT NULL,
          `VAB_H28` float DEFAULT NULL,
          `VAB_H29` float DEFAULT NULL,
          `VAB_H30` float DEFAULT NULL,
          `VAB_H31` float DEFAULT NULL,
          `VBC_H1` float DEFAULT NULL,
          `VBC_H2` float DEFAULT NULL,
          `VBC_H3` float DEFAULT NULL,
          `VBC_H4` float DEFAULT NULL,
          `VBC_H5` float DEFAULT NULL,
          `VBC_H6` float DEFAULT NULL,
          `VBC_H7` float DEFAULT NULL,
          `VBC_H8` float DEFAULT NULL,
          `VBC_H9` float DEFAULT NULL,
          `VBC_H10` float DEFAULT NULL,
          `VBC_H11` float DEFAULT NULL,
          `VBC_H12` float DEFAULT NULL,
          `VBC_H13` float DEFAULT NULL,
          `VBC_H14` float DEFAULT NULL,
          `VBC_H15` float DEFAULT NULL,
          `VBC_H16` float DEFAULT NULL,
          `VBC_H17` float DEFAULT NULL,
          `VBC_H18` float DEFAULT NULL,
          `VBC_H19` float DEFAULT NULL,
          `VBC_H20` float DEFAULT NULL,
          `VBC_H21` float DEFAULT NULL,
          `VBC_H22` float DEFAULT NULL,
          `VBC_H23` float DEFAULT NULL,
          `VBC_H24` float DEFAULT NULL,
          `VBC_H25` float DEFAULT NULL,
          `VBC_H26` float DEFAULT NULL,
          `VBC_H27` float DEFAULT NULL,
          `VBC_H28` float DEFAULT NULL,
          `VBC_H29` float DEFAULT NULL,
          `VBC_H30` float DEFAULT NULL,
          `VBC_H31` float DEFAULT NULL,
          `VCA_H1` float DEFAULT NULL,
          `VCA_H2` float DEFAULT NULL,
          `VCA_H3` float DEFAULT NULL,
          `VCA_H4` float DEFAULT NULL,
          `VCA_H5` float DEFAULT NULL,
          `VCA_H6` float DEFAULT NULL,
          `VCA_H7` float DEFAULT NULL,
          `VCA_H8` float DEFAULT NULL,
          `VCA_H9` float DEFAULT NULL,
          `VCA_H10` float DEFAULT NULL,
          `VCA_H11` float DEFAULT NULL,
          `VCA_H12` float DEFAULT NULL,
          `VCA_H13` float DEFAULT NULL,
          `VCA_H14` float DEFAULT NULL,
          `VCA_H15` float DEFAULT NULL,
          `VCA_H16` float DEFAULT NULL,
          `VCA_H17` float DEFAULT NULL,
          `VCA_H18` float DEFAULT NULL,
          `VCA_H19` float DEFAULT NULL,
          `VCA_H20` float DEFAULT NULL,
          `VCA_H21` float DEFAULT NULL,
          `VCA_H22` float DEFAULT NULL,
          `VCA_H23` float DEFAULT NULL,
          `VCA_H24` float DEFAULT NULL,
          `VCA_H25` float DEFAULT NULL,
          `VCA_H26` float DEFAULT NULL,
          `VCA_H27` float DEFAULT NULL,
          `VCA_H28` float DEFAULT NULL,
          `VCA_H29` float DEFAULT NULL,
          `VCA_H30` float DEFAULT NULL,
          `VCA_H31` float DEFAULT NULL,
          `VAN_H1` float DEFAULT NULL,
          `VAN_H2` float DEFAULT NULL,
          `VAN_H3` float DEFAULT NULL,
          `VAN_H4` float DEFAULT NULL,
          `VAN_H5` float DEFAULT NULL,
          `VAN_H6` float DEFAULT NULL,
          `VAN_H7` float DEFAULT NULL,
          `VAN_H8` float DEFAULT NULL,
          `VAN_H9` float DEFAULT NULL,
          `VAN_H10` float DEFAULT NULL,
          `VAN_H11` float DEFAULT NULL,
          `VAN_H12` float DEFAULT NULL,
          `VAN_H13` float DEFAULT NULL,
          `VAN_H14` float DEFAULT NULL,
          `VAN_H15` float DEFAULT NULL,
          `VAN_H16` float DEFAULT NULL,
          `VAN_H17` float DEFAULT NULL,
          `VAN_H18` float DEFAULT NULL,
          `VAN_H19` float DEFAULT NULL,
          `VAN_H20` float DEFAULT NULL,
          `VAN_H21` float DEFAULT NULL,
          `VAN_H22` float DEFAULT NULL,
          `VAN_H23` float DEFAULT NULL,
          `VAN_H24` float DEFAULT NULL,
          `VAN_H25` float DEFAULT NULL,
          `VAN_H26` float DEFAULT NULL,
          `VAN_H27` float DEFAULT NULL,
          `VAN_H28` float DEFAULT NULL,
          `VAN_H29` float DEFAULT NULL,
          `VAN_H30` float DEFAULT NULL,
          `VAN_H31` float DEFAULT NULL,
          `VBN_H1` float DEFAULT NULL,
          `VBN_H2` float DEFAULT NULL,
          `VBN_H3` float DEFAULT NULL,
          `VBN_H4` float DEFAULT NULL,
          `VBN_H5` float DEFAULT NULL,
          `VBN_H6` float DEFAULT NULL,
          `VBN_H7` float DEFAULT NULL,
          `VBN_H8` float DEFAULT NULL,
          `VBN_H9` float DEFAULT NULL,
          `VBN_H10` float DEFAULT NULL,
          `VBN_H11` float DEFAULT NULL,
          `VBN_H12` float DEFAULT NULL,
          `VBN_H13` float DEFAULT NULL,
          `VBN_H14` float DEFAULT NULL,
          `VBN_H15` float DEFAULT NULL,
          `VBN_H16` float DEFAULT NULL,
          `VBN_H17` float DEFAULT NULL,
          `VBN_H18` float DEFAULT NULL,
          `VBN_H19` float DEFAULT NULL,
          `VBN_H20` float DEFAULT NULL,
          `VBN_H21` float DEFAULT NULL,
          `VBN_H22` float DEFAULT NULL,
          `VBN_H23` float DEFAULT NULL,
          `VBN_H24` float DEFAULT NULL,
          `VBN_H25` float DEFAULT NULL,
          `VBN_H26` float DEFAULT NULL,
          `VBN_H27` float DEFAULT NULL,
          `VBN_H28` float DEFAULT NULL,
          `VBN_H29` float DEFAULT NULL,
          `VBN_H30` float DEFAULT NULL,
          `VBN_H31` float DEFAULT NULL,
          `VCN_H1` float DEFAULT NULL,
          `VCN_H2` float DEFAULT NULL,
          `VCN_H3` float DEFAULT NULL,
          `VCN_H4` float DEFAULT NULL,
          `VCN_H5` float DEFAULT NULL,
          `VCN_H6` float DEFAULT NULL,
          `VCN_H7` float DEFAULT NULL,
          `VCN_H8` float DEFAULT NULL,
          `VCN_H9` float DEFAULT NULL,
          `VCN_H10` float DEFAULT NULL,
          `VCN_H11` float DEFAULT NULL,
          `VCN_H12` float DEFAULT NULL,
          `VCN_H13` float DEFAULT NULL,
          `VCN_H14` float DEFAULT NULL,
          `VCN_H15` float DEFAULT NULL,
          `VCN_H16` float DEFAULT NULL,
          `VCN_H17` float DEFAULT NULL,
          `VCN_H18` float DEFAULT NULL,
          `VCN_H19` float DEFAULT NULL,
          `VCN_H20` float DEFAULT NULL,
          `VCN_H21` float DEFAULT NULL,
          `VCN_H22` float DEFAULT NULL,
          `VCN_H23` float DEFAULT NULL,
          `VCN_H24` float DEFAULT NULL,
          `VCN_H25` float DEFAULT NULL,
          `VCN_H26` float DEFAULT NULL,
          `VCN_H27` float DEFAULT NULL,
          `VCN_H28` float DEFAULT NULL,
          `VCN_H29` float DEFAULT NULL,
          `VCN_H30` float DEFAULT NULL,
          `VCN_H31` float DEFAULT NULL,
          `sent_date` timestamp NULL DEFAULT current_timestamp(),
          `transaction_date` bigint(20) NOT NULL DEFAULT 1546276200,
          `device_id` int(11) DEFAULT NULL,
          PRIMARY KEY (`id`,`transaction_date`),
          KEY `device_id_index` (`device_id`),
          KEY `sent_date_index` (`sent_date`),
          KEY `transaction_date` (`transaction_date`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        /*!40101 SET character_set_client = @saved_cs_client */;

		DROP TABLE IF EXISTS ${schema}.s3m_data_temp_humidity_1_${year};
          /*!40101 SET @saved_cs_client     = @@character_set_client */;
        	/*!50503 SET character_set_client = utf8mb4 */;
          CREATE TABLE ${schema}.s3m_data_temp_humidity_1_${year} (
          `id` INT NOT NULL AUTO_INCREMENT,
          `device_id` BIGINT NULL,
          `t` FLOAT NULL,
          `h` FLOAT NULL,
          `online` FLOAT NULL,
          `battery` FLOAT NULL,
          `current` FLOAT NULL,
          `crc` VARCHAR(1000) NULL,
          `sent_date` timestamp NOT NULL DEFAULT current_timestamp(),
          `transaction_date` VARCHAR(45) NULL,
          PRIMARY KEY (`id`));
          
          DROP TABLE IF EXISTS ${schema}.s3m_data_status_1_${year};
          /*!40101 SET @saved_cs_client     = @@character_set_client */;
          /*!50503 SET character_set_client = utf8mb4 */;
          CREATE TABLE ${schema}.s3m_data_status_1_${year} (
          `id` INT NOT NULL AUTO_INCREMENT,
          `device_id` BIGINT NULL,
          `status` INT NULL,
          `crc` VARCHAR(1000) NULL,
          `sent_date`  timestamp NOT NULL DEFAULT current_timestamp(),
          `transaction_date` VARCHAR(255) NULL,
          PRIMARY KEY (`id`));

        --
        -- Table structure for table `s3m_data_panel_1_${year}`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_panel_1_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_panel_1_${year} (
          `id` int unsigned NOT NULL AUTO_INCREMENT,
          `device_id` bigint DEFAULT NULL,
          `ven` varchar(45) DEFAULT NULL,
          `p` float DEFAULT NULL,
          `u` float DEFAULT NULL,
          `i` float DEFAULT NULL,
          `sent_date` varchar(45) NOT NULL,
          PRIMARY KEY (`id`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        /*!40101 SET character_set_client = @saved_cs_client */;

        --
        -- Table structure for table `s3m_data_string_1_${year}`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_string_1_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_string_1_${year} (
          `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
          `device_id` bigint(20) DEFAULT NULL,
          `InID` int(16) unsigned DEFAULT NULL,
          `InEvt` int(32) unsigned DEFAULT NULL,
          `LOW_VOLTAGE` int(32) unsigned DEFAULT NULL,
          `LOW_POWER` int(32) unsigned DEFAULT NULL,
          `LOW_EFFICIENCY` int(32) unsigned DEFAULT NULL,
          `CURRENT` int(32) unsigned DEFAULT NULL,
          `VOLTAGE` int(32) unsigned DEFAULT NULL,
          `POWER` int(32) unsigned DEFAULT NULL,
          `PR` int(32) unsigned DEFAULT NULL,
          `DISCONNECTED` int(32) unsigned DEFAULT NULL,
          `FUSE_FAULT` int(32) unsigned DEFAULT NULL,
          `COMBINER_FUSE_FAULT` int(32) unsigned DEFAULT NULL,
          `COMBINER_CABINET_OPEN` int(32) unsigned DEFAULT NULL,
          `TEMP` int(32) unsigned DEFAULT NULL,
          `GROUNDFAULT` int(32) unsigned DEFAULT NULL,
          `REVERSED_POLARITY` int(32) unsigned DEFAULT NULL,
          `INCOMPATIBLE` int(32) unsigned DEFAULT NULL,
          `COMM_ERROR` int(32) unsigned DEFAULT NULL,
          `INTERNAL_ERROR` int(32) unsigned DEFAULT NULL,
          `THEFT` int(32) unsigned DEFAULT NULL,
          `ARC_DETECTED` int(32) unsigned DEFAULT NULL,
          `IdcStr` float DEFAULT NULL,
          `InDCAhr` float DEFAULT NULL,
          `VdcStr` float DEFAULT NULL,
          `PdcStr` float DEFAULT NULL,
          `InDCWh` int(16) DEFAULT NULL,
          `InDCPR` float DEFAULT NULL,
          `InN` float DEFAULT NULL,
          `sent_date` timestamp NULL DEFAULT current_timestamp(),
          `transaction_date` bigint(20) DEFAULT NULL,
          `Tstr` float DEFAULT NULL,
          `EpStr` float DEFAULT NULL,
          PRIMARY KEY (`id`),
          KEY `device_id` (`device_id`),
          KEY `transaction_date` (`transaction_date`),
          KEY `sent_date` (`sent_date`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        /*!40101 SET character_set_client = @saved_cs_client */;

        --
        -- Table structure for table `s3m_data_weather_1_${year}`
        --

        DROP TABLE IF EXISTS ${schema}.s3m_data_weather_1_${year};
        /*!40101 SET @saved_cs_client     = @@character_set_client */;
        /*!50503 SET character_set_client = utf8mb4 */;
        CREATE TABLE ${schema}.s3m_data_weather_1_${year} (
          `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
          `device_id` bigint(20) DEFAULT NULL,
          `Wind_sp` int(11) DEFAULT NULL,
          `Wind_dir` int(11) DEFAULT NULL,
          `Rad` int(11) DEFAULT NULL,
          `Temp` int(11) DEFAULT NULL,
          `H` int(11) DEFAULT NULL,
          `Rain` int(11) DEFAULT NULL,
          `Atmos` int(11) DEFAULT NULL,
          `sent_date` timestamp NULL DEFAULT current_timestamp(),
          `transaction_date` bigint(20) DEFAULT NULL,
          PRIMARY KEY (`id`),
          KEY `sent_date` (`sent_date`),
          KEY `transaction_date` (`transaction_date`),
          KEY `device_id` (`device_id`)
        ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        /*!40101 SET character_set_client = @saved_cs_client */;

        
        DROP TABLE IF EXISTS ${schema}.s3m_data_gw_1_${year};
        CREATE TABLE ${schema}.s3m_data_gw_1_${year} (
          `id` int NOT NULL AUTO_INCREMENT,
          `device_id` int NOT NULL,
          `sng` varchar(45) DEFAULT NULL,
          `hwv` varchar(45) DEFAULT NULL,
          `fwv` varchar(45) DEFAULT NULL,
          `sim` varchar(45) DEFAULT NULL,
          `ip` varchar(45) DEFAULT NULL,
          `status` int DEFAULT NULL,
          `bat` float DEFAULT NULL,
          `n_rtu` int DEFAULT NULL,
          `n_mbtcp` int DEFAULT NULL,
          `n_plc` int DEFAULT NULL,
          `n_ws` int DEFAULT NULL,
          `sent_date` varchar(45) NOT NULL,
          PRIMARY KEY (`id`)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        
        DROP TABLE IF EXISTS ${schema}.s3m_data_gw_2_${year};
        CREATE TABLE ${schema}.s3m_data_gw_2_${year} (
          `id` int NOT NULL AUTO_INCREMENT,
          `device_id` int NOT NULL,
          `unique_key` varchar(45) NOT NULL,
          `n_rtu` int DEFAULT NULL,
          `n_mbtcp` int DEFAULT NULL,
          `n_plc` int DEFAULT NULL,
          `n_ws` int DEFAULT NULL,
          `uid` bigint DEFAULT NULL,
          `ip` varchar(45) DEFAULT NULL,
          `status_con` int DEFAULT NULL,
          `sid` varchar(45) DEFAULT NULL,
          `sent_date` varchar(45) NOT NULL,
          PRIMARY KEY (`id`)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        
        DROP TABLE IF EXISTS ${schema}.s3m_data_pd_htr02_1_${year};
        CREATE TABLE ${schema}.s3m_data_pd_htr02_1_${year} (
          `id` int NOT NULL AUTO_INCREMENT,
          `device_id` int NOT NULL,
          `alarm_status_bit` bigint DEFAULT NULL,
          `lfb_ratio` float DEFAULT NULL,
          `lfb_eppc` float DEFAULT NULL,
          `mfb_ratio` float DEFAULT NULL,
          `mfb_eppc` float DEFAULT NULL,
          `hfb_ratio` float DEFAULT NULL,
          `hfb_eppc` float DEFAULT NULL,
          `mean_ratio` float DEFAULT NULL,
          `mean_eppc` float DEFAULT NULL,
          `ratio_eppc_hi` float DEFAULT NULL,
          `ratio_eppc_lo` float DEFAULT NULL,
          `sent_date` timestamp NOT NULL,
          `indicator` int DEFAULT NULL,
          PRIMARY KEY (`id`)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        
        DROP TABLE IF EXISTS ${schema}.s3m_data_pd_ams01_1_${year};
        CREATE TABLE ${schema}.s3m_data_pd_ams01_1_${year} (
          `id` int NOT NULL AUTO_INCREMENT,
          `device_id` int NOT NULL,
          `indicator` int DEFAULT NULL,
          `ratio` float DEFAULT NULL,
          `eppc` float DEFAULT NULL,
          `pd_level` float DEFAULT NULL,
          `notifier` float DEFAULT NULL,
          `sent_date` timestamp NOT NULL,
          PRIMARY KEY (`id`)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        
        DROP TABLE IF EXISTS ${schema}.s3m_data_relay_1_${year};
        CREATE TABLE ${schema}.s3m_data_relay_1_${year} (
          `id` int NOT NULL AUTO_INCREMENT,
          `device_id` int NOT NULL,
          `status` int DEFAULT NULL,
          `sent_date` varchar(45) NOT NULL,
          PRIMARY KEY (`id`)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
    </insert>

</mapper>